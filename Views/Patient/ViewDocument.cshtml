
@{
    ViewData["Title"] = "View Documents";
}
@section style{
    <link rel="stylesheet" href="~/css/view_document.css" asp-append-version="true" />
}

<ul class="nav nav-underline ps-4 pe-4 bg-white">
    <li class="nav-item">
        <a class="nav-link active fs-5 fw-medium" aria-current="page" href="#">Dashboard</a>
    </li>
    <li class="nav-item">
        <a class="nav-link fs-5 fw-normal" href="#">Profile</a>
    </li>
</ul>

<div class="container">
    <div class="d-flex justify-content-between align-items-center mt-4 mb-4">
        <h4>Documents</h4>

        <a asp-controller="Patient" asp-action="PatientDashboard" class="btn btn-outline-info"> < Back </a>
    </div>

    <div class="bg">
        Patient Name
        <h5><span> Testing Test </span>(MDDSKFI234I23I)</h5>
        <p>
            Check here for any files that you or the doctors of your subsequents
            requestors have attached for you to review.
        </p>

        <div class="d-flex justify-content-between rounded border bg-light col-12">
            <div id="filename" class="p-2">Select File</div>

            <label for="fileLoader"
                   class="bg-info text-white text-center rounded-end py-2 px-2">
                <i class="bi bi-cloud-arrow-up"></i>
                <label for="fileLoader">Upload</label>
            </label>
            <input type="file" id="fileLoader" style="display: none" multiple />
        </div>

        <div class="d-flex justify-content-between align-items-center mt-4 mb-2">
            <h5>Documents</h5>

            <a class="btn btn-outline-info"> Download All </a>
        </div>
    </div>
</div>

<script>
    document
        .getElementById("fileLoader")
        .addEventListener("change", function (event) {
            const fileInput = event.target;
            const files = fileInput.files;

            if (files.length > 0) {
                let fileNames = [];
                for (const file of files) {
                    fileNames.push(file.name);
                }
                document.getElementById("filename").innerText = fileNames.join(", ");
            } else {
                document.getElementById("filename").innerText = "Select File";
            }
        });
</script>