@{
    ViewData["Title"] = "AdminDashboard";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    int idCount = 1;
}
@section style{
    <link rel="stylesheet" href="~/css/profile.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/admin_dashboard.css" asp-append-version="true" />
    
}

<ul class="nav nav-tabs tabs bg-white shadow hideonmobile ps-4 pe-4">
    <li class="nav-item">
        <a class="nav-link active fs-5 fw-normal" data-bs-toggle="tab" href="#dashboard">Dashboard</a>
    </li>
    <li class="nav-item">
        <a class="nav-link  fs-5 fw-medium" data-bs-toggle="tab" href="#providerLocation">Provider Location</a>
    </li>
    <li class="nav-item">
        <a class="nav-link fs-5 fw-normal" data-bs-toggle="tab" href="#myProfile">My Profile</a>
    </li>
    <li class="nav-item">
        <a class="nav-link fs-5 fw-normal" data-bs-toggle="tab" href="#providers">Providers</a>
    </li>
    <li class="nav-item">
        <a class="nav-link  fs-5 fw-medium" data-bs-toggle="tab" href="#partners">Partners</a>
    </li>
    <li class="nav-item">
        <a class="nav-link fs-5 fw-normal" data-bs-toggle="tab" href="#access">Access</a>
    </li>
    <li class="nav-item">
        <a class="nav-link  fs-5 fw-medium" data-bs-toggle="tab" href="#records">Records</a>
    </li>
</ul>

@* 
<div class="container-fluid ps-5 pe-5">
    <div class="row justify-content-center">
        <div class="col-sm-4 col-md-4 col-lg-2 col-4 mb-3">
            <button id="new-box" class="rounded">
                <div class="d-flex mt-1">
                    <img src="~/images/New_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>NEW</small></span>
                </div>
                <div class="h3 fw-bold text-start">Count</div>

            </button>
        </div>

        <div class="col-sm-4 col-md-4 col-lg-2 col-4"
             style="padding-left: 1px !important">
            <button id="pending-box" class="rounded mb-3">
                <div class="d-flex mt-1">
                    <img src="~/images/Pending_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>PENDING</small></span>
                </div>
                <div class="h3 fw-bold text-start">PendingCount</div>

            </button>
        </div>

        <div class="col-sm-4 col-md-4 col-lg-2 col-4"
             style="padding-left: 1px !important">
            <button id="active-box" class="rounded mb-3">
                <div class="d-flex mt-1">
                    <img src="~/images/active_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>ACTIVE</small></span>
                </div>
                <div class="h3 fw-bold text-start">ActiveCount</div>

            </button>
        </div>
        <div class="col-sm-4 col-md-4 col-lg-2 col-4"
             style="padding-left: 1px !important">
            <button id="conclude-box" class="rounded mb-3">
                <div class="d-flex mt-1">
                    <img src="~/images/Conclude_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>CONCLUDE</small></span>
                </div>
                <div class="h3 fw-bold text-start">ConcludeCount</div>

            </button>
        </div>

        <div class="col-sm-4 col-md-4 col-lg-2 col-4"
             style="padding-left: 1px !important">
            <button id="close-box" class="rounded mb-3">
                <div class="d-flex mt-1">
                    <img src="~/images/Close_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>CLOSE</small></span>
                </div>
                <div class="h3 fw-bold text-start">TocloseCount</div>

            </button>
        </div>
        <div class="col-sm-4 col-md-4 col-lg-2 col-4"
             style="padding-left: 1px !important">
            <button id="unpaid-box" class="rounded mb-3">
                <div class="d-flex mt-1">
                    <img src="~/images/Unpaid_img.png"
                         style="width: 30px; height: 30px"
                         class="me-2" />
                    <span><small>UNPAID</small></span>
                </div>
                <div class="h3 fw-bold text-start">UnpaidCount</div>

            </button>
        </div>
    </div>
</div> *@

<div class="tab-pane container-fluid active" id="dashboard">
    <form asp-action="AdminDashboard">
        <div class="row justify-content-center">
            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=1 style="text-decoration: none;">
                    <div class="p-3 rounded mb-3 text-white" style="background-color:#00008b;border:1px solid #00008b">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-compass"></i> NEW</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=2 style="text-decoration: none;">
                    <div class="p-3 rounded" style="background-color:#f0ffff;border:1px solid #208fbc;color:#3dffff">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-person"></i> PENDING</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=3 style="text-decoration: none;">
                    <div class="p-3 rounded" style="background-color:#e1fee1;border:1px solid #06ac06;color:#06ac06">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-check2-circle"></i> ACTIVE</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=4 style="text-decoration: none;">
                    <div class="p-3 rounded" style="background-color:#ffddf4;border:1px solid #e0218a;color:#e0218a">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-clock"></i> CONCLUDE</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=5 style="text-decoration: none;">
                    <div class="p-3 rounded" style="background-color:#e5f4fb;border:1px solid #208fbc;color:#208fbc">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-person-x-fill"></i> TO CLOSE</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="col-sm-4 col-md-4 col-lg-2 col-4 mt-1">
                <a asp-route-id=6 style="text-decoration: none;">
                    <div class="p-3 rounded" style="background-color:#f2f2fc;border:1px solid #6666e1;color:#6666e1">
                        <div class="d-flex flex-column">
                            <span><i class="bi bi-coin"></i> UNPAID</span>
                            <span class="h3 fw-bold">12345</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

    </form>

    <div class="row m-lg-2 ">
        <div class="d-flex align-items-center justify-content-between mt-4">
            <p class="mt-4 h3">Patients <span class="h4" style="color:#00008b">(New)</span></p>
            <div class="d-flex justify-content-end align-items-center">
                <button type="button" class="btn btn-info me-2 text-white shadow-none"><i class="bi bi-send "></i><span class="link-responsive ms-2" id="sendlink">Send Link</span></button>
                <button type="button" class="btn btn-info me-2 text-white shadow-none"><i class="bi bi-pencil-square"></i> <span class="link-responsive ms-2" id="createrequest">Create Request</span></button>
                <button type="button" class="btn btn-info me-2 text-white shadow-none"><i class="bi bi-share"></i><span class="link-responsive ms-2" id="export">Export</span></button>
                <button type="button" class="btn btn-info me-2 text-white shadow-none"><i class="bi bi-reply-all"></i><span class="link-responsive ms-2" id="exportall">Export All</span></button>
                <button type="button" class="btn btn-info text-white shadow-none"><i class="bi bi-person-gear"></i><span class="link-responsive ms-2" id="requestDTY">Request DTY Support</span></button>
            </div>
        </div>
        <div class="row g-2 mt-2 pt-2 pb-2 bg-white shadow rounded-1">
            <div class="col-md-2 col-sm-12">
                <i class="bi bi-search text-muted position-absolute" style="padding-top:10px; padding-left:10px;"></i>
                <input type="search" class="form-control" style="padding-left:35px;" id="floatingInputGrid" placeholder="Search Patients">
            </div>

            <div class="col-md-2 col-sm-12">

                <i class="text-muted position-absolute" style="padding-top:10px; padding-left:10px;"></i>
                <select class="form-select" id="floatingSelectGrid">

                    <option selected>All Regions</option>
                    <option value="1">Ahmedabad</option>
                    <option value="2">Gandhinagar</option>
                    <option value="3">Surat</option>
                </select>
            </div>

            <div class="col-md-8 col-sm-12">
                <div class="text-end text-sm-start d-md-flex justify-content-md-end req-container">
                    <button class=" hideonmobile btn btn-white me-2  d-none d-lg-block" style="border-color:gainsboro;" type="button">All</button>
                    <span class="p-2 border-info" type="button"><i class="bi bi-circle-fill" style="color: #3ecc4e;"></i>Patient</span>
                    <span class="p-2" type="button"><i class="bi bi-circle-fill" style="color: #FFD43B;"></i>Family</span>
                    <span class="p-2 border-info" type="button"><i class="bi bi-circle-fill" style="color: #d049b7;"></i>Business</span>
                    <span class=" p-2 " type="button"><i class="bi bi-circle-fill" style="color: #3c5bd7;"></i>Concierge</span>
                    <span class="p-2 " type="button"><i class="bi bi-circle-fill" style="color: #6d4bd2;"></i>VIP</span>
                </div>
            </div>


        </div>
        <div class="table-responsive">
            <table class="table mt-4 d-md-table d-none">

                <thead style="background-color: rgb(231, 231, 231);">
                    <tr class="p-3">
                     @*    @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="new pending activetype conclude close unpaid" scope="col" width="18%">Name</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5)
                        {
                            <th class="new pending activetype conclude close" scope="col">Date Of Birth</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3)
                        {
                            <th class="new pending activetype" scope="col">Requestor</th>
                        }
                        @if (Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="pending activetype conclude close unpaid" scope="col">Physician Name</th>
                        }
                        @if (Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="pending activetype conclude close unpaid" scope="col">Date Of Service</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1)
                        {
                            <th class="new" scope="col">Requested Date</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="new pending activetype conclude unpaid" scope="col">Phone</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="new pending activetype conclude close unpaid" scope="col" width="20%">Address</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 5)
                        {
                            <th class="new pending activetype close" scope="col" width="15%">Notes</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="new pending activetype conclude close unpaid" scope="col">Chat With</th>
                        }
                        @if (Model.FirstOrDefault().Status == 1 || Model.FirstOrDefault().Status == 2 || Model.FirstOrDefault().Status == 3 || Model.FirstOrDefault().Status == 4 || Model.FirstOrDefault().Status == 5 || Model.FirstOrDefault().Status == 6)
                        {
                            <th class="new pending activetype conclude close unpaid" scope="col">Actions</th>
                        } *@
                    </tr>
                </thead>
                <tbody>
                   @*  @foreach (var item in Model)
                    {
                        <tr>
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class=" new pending activetype conclude close unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col" width="18%">@item.FirstName</td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5)
                            {
                                <td class="new pending activetype conclude close @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">@item.Birth</td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3)
                            {
                                <td class="new pending activetype  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">@item.Requester</td>
                            }
                            @if (item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class="pending activetype conclude close unpaid @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">Physician Name</td>
                            }
                            @if (item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class="pending activetype conclude close unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">Date Of Service</td>
                            }
                            @if (item.Status == 1)
                            {
                                <td class="new  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">@item.CreatedDate</td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 6)
                            {
                                <td class="new pending activetype conclude unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">
                                    <a class="btn border border-white text-white">
                                        <span><i class="bi bi-telephone"></i></span>
                                        @item.PhoneNumber
                                    </a>
                                    <p>(Patient)</p>

                                    @if (item.Requesttypeid == 1 || item.Requesttypeid == 3 || item.Requesttypeid == 4)
                                    {
                                        <a class="btn border border-white text-white">
                                            <span><i class="bi bi-telephone"></i></span>
                                            @item.PhoneNumberR
                                        </a>
                                        @if (item.Requesttypeid == 1)
                                        {
                                            <p>(Business Partners)</p>
                                        }
                                        @if (item.Requesttypeid == 3)
                                        {
                                            <p> (Family)</p>
                                        }
                                        @if (item.Requesttypeid == 4)
                                        {
                                            <p>(Concirege)</p>
                                        }
                                    }

                                </td>

                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class="new pending activetype conclude close unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col" width="20%">@item.Address</td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 5)
                            {
                                <td class="new pending activetype close  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col" width="15%">@item.Notes</td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class="new pending activetype conclude close unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">
                                    <div class="d-flex">
                                        <a class="btn  border border-white text-white"><span><i class="bi bi-person"></i></span>Providor</a>
                                        <a class="btn  border border-white text-white" style="margin-left:10px;"><span><i class="bi bi-person-fill"></i></span>Patient</a>
                                    </div>
                                </td>
                            }
                            @if (item.Status == 1 || item.Status == 2 || item.Status == 3 || item.Status == 4 || item.Status == 5 || item.Status == 6)
                            {
                                <td class="new pending activetype conclude close unpaid  @(item.Requesttypeid == 1 ? "businesscolor" : item.Requesttypeid == 2 ? "patientcolor" : item.Requesttypeid == 3 ? "friendcolor" : "conciergecolor")" scope="col">
                                    <select class="form-control text-white bg-transparent">
                                        <option class="text-secondary">Actions</option>
                                        <option class="text-secondary new">Assign Case</option>
                                        <option class="text-secondary new">Cancel Case</option>
                                        <option class="text-secondary new pending activetype conclude close unpaid">View Case</option>
                                        <option class="text-secondary close">Close Case</option>
                                        <option class="text-secondary pending activetype conclude close unpaid">View Uploads</option>
                                        <option class="text-secondary new pending activetype conclude close unpaid">View Notes</option>
                                        <option class="text-secondary pending">Transfer</option>
                                        <option class="text-secondary activetype conclude close">Orders</option>
                                        <option class="text-secondary activetype conclude close">Doctor Note</option>
                                        <option class="text-secondary pending close">Clear Case</option>
                                        <option class="text-secondary activetype conclude close">Encounter</option>
                                        <option class="text-secondary pending">Send Agreement</option>
                                        <option class="text-secondary new">Block Patient</option>
                                    </select>
                                </td>
                            }
                        </tr>
                    } *@
                </tbody>
            </table>
        </div>
        <div class="d-md-none">
           @*  @foreach (var item in Model)
            {

                <h2 class="accordion-header" id="@($"h{idCount}")">
                    <button class="accordion-button collapsed border-top" type="button" data-bs-toggle="collapse"
                            data-bs-target="@($"#c{idCount}")" aria-expanded="false"
                            aria-controls="@($"c{idCount}")" onclick="toggleAccordion('@($"c{idCount}")')">
                        <div class="w-100">
                            <div class="row w-100">
                                <b class="col-9 pe-2">
                                    <span>@item.FirstName, @item.LastName</span>
                                </b>
                                <span class="col-3 pe-2 text-end d-flex flex-column align-items-end">
                                    <span class="d-flex align-items-center justify-content-end">Patient <div class="bg-success rounded-circle m-1" style="height: 15px; width: 15px;"></div></span>
                                    <a class="btn border-info rounded-pill text-info text-nowrap w-auto">Map Location</a>
                                </span>
                            </div>
                            <p class="new">@item.Address</p>
                        </div>
                    </button>
                </h2>
                <div id="@($"c{idCount}")" class="accordion-collapse collapse"
                     aria-labelledby="@($"h{idCount}")" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <div class="row justify-content-end w-100">
                            <a class="btn rounded-pill border w-auto" style="color: #563d7c; border: 1px solid #563d7c;background-color: #cbbde0">View Case</a>
                        </div>
                        <p><span><i class="bi bi-calendar text-info"></i></span> Date of birth:@item.Birth </p>
                        <p><span><i class="bi bi-envelope-at text-info"></i></span> Email: </p>
                        <p><span><i class="bi bi-telephone-fill text-info"></i></span> Patient:@item.PhoneNumber </p>
                        <p><span><i class="bi bi-pencil-square text-info"></i></span> Notes:@item.Notes </p>
                        <p><span><i class="bi bi-calendar text-info"></i></span> Date of service: </p>
                        <p><span><i class="bi bi-person-check text-info"></i></span> Physician: </p>
                        <p><span><i class="bi bi-person text-info"></i></span> Requestor:@item.Requester </p>
                        <div class="row">


                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white new" style="background-color: #563d7c">Assign Case</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-danger new">Cancel Case</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-danger close">Close Case</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-warning pending">Send Agreement</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-success new pending activetype conclude close unpaid">View Notes</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-info pending">Transfer</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-danger new">Block Patient</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white  activetype conclude close" style="background-color:rgba(9, 160, 36, 0.8)">Doctor Note</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-success  pending activetype conclude close unpaid">View Uploads</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-success activetype conclude close">Encounter</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-warning activetype conclude close">Orders</a>
                            <a class="btn border rounded-pill m-2 col-12 col-sm text-white bg-warning pending close">Clear Case</a>
                      
                        </div>
                        <div class="w-100 justify-content-end align-items-center d-flex mt-3">
                            <p class="mb-0">Chat with:</p>
                            <a type="button" class="btn btn-outline-info ms-2">Patient</a>
                            <a type="button" class="btn btn-outline-info ms-3">Provider</a>
                        </div>
                    </div>
                </div>

                idCount++;

            } *@

        </div>

    </div>
